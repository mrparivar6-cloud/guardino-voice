<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Guardino Voice</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h2>ğŸ™ï¸ Guardino â€“ Voice MVP</h2>

<button id="start">Ø´Ø±ÙˆØ¹ ØµØ­Ø¨Øª</button>
<p id="log">Ø¢Ù…Ø§Ø¯Ù‡â€¦</p>

<script>
const log = (text) => {
  document.getElementById("log").innerText = text;
};

const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  log("âŒ Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Voice Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯");
} else {
  const recognition = new SpeechRecognition();
  recognition.lang = "fa-IR";
  recognition.continuous = false;

  document.getElementById("start").onclick = () => {
    recognition.start();
    log("ğŸ§ Ø¯Ø± Ø­Ø§Ù„ Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù†...");
  };

  recognition.onresult = (event) => {
    const last = event.results.length - 1;
    const text = event.results[last][0].transcript;

    log("ğŸ¤ ØªÙˆ Ú¯ÙØªÛŒ: " + text);

    let response = "Ù…ØªÙˆØ¬Ù‡ Ù†Ø´Ø¯Ù…";

    if (text.includes("Ø³Ù„Ø§Ù…")) response = "Ø³Ù„Ø§Ù… Ù…Ø³ØªØ± Ù¾Ø±ÛŒÙˆØ§Ø±";
    if (text.includes("Ù¾ÙˆÙ„")) response = "Ù¾ÙˆÙ„ Ø§Ø¨Ø²Ø§Ø± Ø¢Ø²Ø§Ø¯ÛŒ Ø§Ø³Øª";
    if (text.includes("Ú¯Ø§Ø±ÚˆÛŒÙ†Ùˆ") || text.includes("Ú¯Ø§Ø±Ø¯ÛŒÙ†Ùˆ"))
      response = "Ù…Ù† Ú¯Ø§Ø±Ø¯ÛŒÙ†Ùˆ Ù‡Ø³ØªÙ…";

    const speak = new SpeechSynthesisUtterance(response);
    speak.lang = "fa-IR";
    speechSynthesis.speak(speak);
  };
}
</script>

</body>
</html>
